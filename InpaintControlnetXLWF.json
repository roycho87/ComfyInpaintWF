{"last_node_id":122,"last_link_id":242,"nodes":[{"id":107,"type":"PreviewImage","pos":[835.0646362304688,1178.3599853515625],"size":[381.32379150390625,326.9339599609375],"flags":{},"order":18,"mode":0,"inputs":[{"name":"images","localized_name":"images","type":"IMAGE","link":197}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.28","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"Node name for S&R":"PreviewImage"},"widgets_values":[],"color":"#2a363b","bgcolor":"#3f5159"},{"id":108,"type":"PreviewImage","pos":[428.19732666015625,1178.3599853515625],"size":[373.87493896484375,333.89654541015625],"flags":{},"order":7,"mode":0,"inputs":[{"name":"images","localized_name":"images","type":"IMAGE","link":198}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.28","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"Node name for S&R":"PreviewImage"},"widgets_values":[],"color":"#2a363b","bgcolor":"#3f5159"},{"id":99,"type":"InpaintStitchImproved","pos":[1495.93115234375,435.5482177734375],"size":[352.79998779296875,46],"flags":{"collapsed":false},"order":17,"mode":0,"inputs":[{"name":"stitcher","localized_name":"stitcher","type":"STITCHER","link":176},{"name":"inpainted_image","localized_name":"inpainted_image","type":"IMAGE","link":174}],"outputs":[{"name":"image","localized_name":"image","type":"IMAGE","links":[175],"slot_index":0}],"properties":{"cnr_id":"comfyui-inpaint-cropandstitch","ver":"7c7685880dc1ea76fa98ed4a26b9e1ffa527c8e6","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"Node name for S&R":"InpaintStitchImproved"},"widgets_values":[],"color":"#223","bgcolor":"#335"},{"id":22,"type":"VAEDecode","pos":[1272.7689208984375,435.5482177734375],"size":[140,46],"flags":{},"order":16,"mode":0,"inputs":[{"name":"samples","localized_name":"samples","type":"LATENT","link":237},{"name":"vae","localized_name":"vae","type":"VAE","link":241}],"outputs":[{"name":"IMAGE","localized_name":"IMAGE","type":"IMAGE","links":[174,197],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.14","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"Node name for S&R":"VAEDecode"},"widgets_values":[],"color":"#323","bgcolor":"#535"},{"id":21,"type":"PreviewImage","pos":[1272.7689208984375,855.202392578125],"size":[913.1145629882812,650.096435546875],"flags":{},"order":19,"mode":0,"inputs":[{"name":"images","localized_name":"images","type":"IMAGE","link":175}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.14","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"Node name for S&R":"PreviewImage"},"widgets_values":[],"color":"#2a363b","bgcolor":"#3f5159"},{"id":109,"type":"PreviewImage","pos":[1310,-250],"size":[506.7179260253906,395.5284423828125],"flags":{},"order":13,"mode":0,"inputs":[{"name":"images","localized_name":"images","type":"IMAGE","link":199}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.28","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"Node name for S&R":"PreviewImage"},"widgets_values":[],"color":"#332922","bgcolor":"#593930"},{"id":60,"type":"LoadImage","pos":[-64.60548400878906,11.913125991821289],"size":[452.5942687988281,339.5609436035156],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","localized_name":"IMAGE","type":"IMAGE","links":[193],"slot_index":0},{"name":"MASK","localized_name":"MASK","type":"MASK","links":[178],"slot_index":1}],"properties":{"cnr_id":"comfy-core","ver":"0.3.28","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"Node name for S&R":"LoadImage"},"widgets_values":["clipspace/clipspace-mask-817992.7999999523.png [input]","image"],"color":"#223","bgcolor":"#335"},{"id":114,"type":"VAEEncode","pos":[985.4341430664062,483.9389953613281],"size":[210,46],"flags":{},"order":9,"mode":0,"inputs":[{"name":"pixels","localized_name":"pixels","type":"IMAGE","link":216},{"name":"vae","localized_name":"vae","type":"VAE","link":240}],"outputs":[{"name":"LATENT","localized_name":"LATENT","type":"LATENT","links":[235],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.28","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"Node name for S&R":"VAEEncode"},"widgets_values":[],"color":"#323","bgcolor":"#535"},{"id":79,"type":"CannyEdgePreprocessor","pos":[932.238525390625,202.31207275390625],"size":[315,106],"flags":{},"order":8,"mode":0,"inputs":[{"name":"image","localized_name":"image","type":"IMAGE","link":213}],"outputs":[{"name":"IMAGE","localized_name":"IMAGE","type":"IMAGE","links":[127,199],"slot_index":0}],"properties":{"cnr_id":"comfyui_controlnet_aux","ver":"83463c2e4b04e729268e57f638b4212e0da4badc","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"Node name for S&R":"CannyEdgePreprocessor"},"widgets_values":[100,200,1024],"color":"#332922","bgcolor":"#593930"},{"id":66,"type":"Canny","pos":[930,60],"size":[315,82],"flags":{},"order":12,"mode":4,"inputs":[{"name":"image","localized_name":"image","type":"IMAGE","link":127}],"outputs":[{"name":"IMAGE","localized_name":"IMAGE","type":"IMAGE","links":[223],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.28","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"Node name for S&R":"Canny"},"widgets_values":[0.4,0.8],"color":"#332922","bgcolor":"#593930"},{"id":116,"type":"ControlNetLoader","pos":[530.70458984375,192.89187622070312],"size":[315,58],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[{"name":"CONTROL_NET","localized_name":"CONTROL_NET","type":"CONTROL_NET","links":[222],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.28","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"Node name for S&R":"ControlNetLoader"},"widgets_values":["SDXL\\controlnet-canny-sdxl-1.0\\diffusion_pytorch_model_V2.safetensors"]},{"id":117,"type":"ControlNetApplyAdvanced","pos":[1321.145751953125,200.27908325195312],"size":[315,186],"flags":{},"order":14,"mode":0,"inputs":[{"name":"positive","localized_name":"positive","type":"CONDITIONING","link":224},{"name":"negative","localized_name":"negative","type":"CONDITIONING","link":225},{"name":"control_net","localized_name":"control_net","type":"CONTROL_NET","link":222},{"name":"image","localized_name":"image","type":"IMAGE","link":223},{"name":"vae","localized_name":"vae","type":"VAE","shape":7,"link":null}],"outputs":[{"name":"positive","localized_name":"positive","type":"CONDITIONING","links":[233],"slot_index":0},{"name":"negative","localized_name":"negative","type":"CONDITIONING","links":[234],"slot_index":1}],"properties":{"cnr_id":"comfy-core","ver":"0.3.28","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[0.6,0,1]},{"id":122,"type":"CheckpointLoaderSimple","pos":[-11.86030387878418,933.3436889648438],"size":[315,98],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[{"name":"MODEL","localized_name":"MODEL","type":"MODEL","links":[238],"slot_index":0},{"name":"CLIP","localized_name":"CLIP","type":"CLIP","links":[239],"slot_index":1},{"name":"VAE","localized_name":"VAE","type":"VAE","links":[240,241],"slot_index":2}],"properties":{"cnr_id":"comfy-core","ver":"0.3.28","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["SDFlux\\sd_xl_base_1.0.safetensors"]},{"id":9,"type":"CLIPTextEncode","pos":[892.4528198242188,1016.953857421875],"size":[330,90],"flags":{},"order":10,"mode":0,"inputs":[{"name":"clip","localized_name":"clip","type":"CLIP","link":93}],"outputs":[{"name":"CONDITIONING","localized_name":"CONDITIONING","type":"CONDITIONING","links":[225],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.14","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"Node name for S&R":"CLIPTextEncode"},"widgets_values":["tattoos"],"color":"#322","bgcolor":"#533"},{"id":113,"type":"LoadImageMask","pos":[-29.805543899536133,409.7972717285156],"size":[417.7942810058594,379.0806579589844],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[{"name":"MASK","localized_name":"MASK","type":"MASK","links":[212]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.28","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"Node name for S&R":"LoadImageMask"},"widgets_values":["clipspace/clipspace-mask-1384322.699999988.png [input]","alpha","image"],"color":"#223","bgcolor":"#335"},{"id":55,"type":"CLIPSetLastLayer","pos":[436.8156433105469,1062.67529296875],"size":[315,58],"flags":{},"order":4,"mode":0,"inputs":[{"name":"clip","localized_name":"clip","type":"CLIP","link":239}],"outputs":[{"name":"CLIP","localized_name":"CLIP","type":"CLIP","links":[228],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.28","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"Node name for S&R":"CLIPSetLastLayer"},"widgets_values":[-2],"color":"#432","bgcolor":"#653"},{"id":100,"type":"InpaintCropImproved","pos":[426.5133972167969,326.6983337402344],"size":[443.4000244140625,482],"flags":{},"order":5,"mode":0,"inputs":[{"name":"image","localized_name":"image","type":"IMAGE","link":193},{"name":"mask","localized_name":"mask","type":"MASK","shape":7,"link":178},{"name":"optional_context_mask","localized_name":"optional_context_mask","type":"MASK","shape":7,"link":212}],"outputs":[{"name":"stitcher","localized_name":"stitcher","type":"STITCHER","links":[176]},{"name":"cropped_image","localized_name":"cropped_image","type":"IMAGE","links":[198,213,216],"slot_index":1},{"name":"cropped_mask","localized_name":"cropped_mask","type":"MASK","links":[],"slot_index":2}],"properties":{"cnr_id":"comfyui-inpaint-cropandstitch","ver":"7c7685880dc1ea76fa98ed4a26b9e1ffa527c8e6","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"Node name for S&R":"InpaintCropImproved"},"widgets_values":["bilinear","bicubic",true,"ensure minimum resolution",1024,1024,512,512,true,0,false,32,0.1,false,1,1,1,1,1,true,1216,1216,"32"],"color":"#223","bgcolor":"#335"},{"id":47,"type":"LoraLoader","pos":[428.19732666015625,855.202392578125],"size":[425.1726379394531,160.31439208984375],"flags":{},"order":6,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","link":238},{"name":"clip","localized_name":"clip","type":"CLIP","link":228}],"outputs":[{"name":"MODEL","localized_name":"MODEL","type":"MODEL","links":[236],"slot_index":0},{"name":"CLIP","localized_name":"CLIP","type":"CLIP","links":[93,242],"slot_index":1}],"properties":{"cnr_id":"comfy-core","ver":"0.3.14","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"Node name for S&R":"LoraLoader"},"widgets_values":["ste94an1e_sdxl_1024_lora.safetensors",1,1],"color":"#432","bgcolor":"#653"},{"id":4,"type":"CLIPTextEncode","pos":[894.1558227539062,855.202392578125],"size":[330,120],"flags":{},"order":11,"mode":0,"inputs":[{"name":"clip","localized_name":"clip","type":"CLIP","link":242}],"outputs":[{"name":"CONDITIONING","localized_name":"CONDITIONING","type":"CONDITIONING","links":[224],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.14","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"Node name for S&R":"CLIPTextEncode"},"widgets_values":["a sexy ste94an1e_woman in a black bikini"],"color":"#232","bgcolor":"#353"},{"id":120,"type":"KSampler","pos":[1501.46630859375,539.9934692382812],"size":[315,262],"flags":{},"order":15,"mode":0,"inputs":[{"name":"model","localized_name":"model","type":"MODEL","link":236},{"name":"positive","localized_name":"positive","type":"CONDITIONING","link":233},{"name":"negative","localized_name":"negative","type":"CONDITIONING","link":234},{"name":"latent_image","localized_name":"latent_image","type":"LATENT","link":235}],"outputs":[{"name":"LATENT","localized_name":"LATENT","type":"LATENT","links":[237],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.28","enableTabs":false,"tabWidth":65,"tabXOffset":10,"hasSecondTab":false,"secondTabText":"Send Back","secondTabOffset":80,"secondTabWidth":65,"Node name for S&R":"KSampler"},"widgets_values":[1234,"fixed",40,6,"euler_ancestral","normal",0.6]}],"links":[[93,47,1,9,0,"CLIP"],[127,79,0,66,0,"IMAGE"],[174,22,0,99,1,"IMAGE"],[175,99,0,21,0,"IMAGE"],[176,100,0,99,0,"STITCHER"],[178,60,1,100,1,"MASK"],[193,60,0,100,0,"IMAGE"],[197,22,0,107,0,"IMAGE"],[198,100,1,108,0,"IMAGE"],[199,79,0,109,0,"IMAGE"],[212,113,0,100,2,"MASK"],[213,100,1,79,0,"IMAGE"],[216,100,1,114,0,"IMAGE"],[222,116,0,117,2,"CONTROL_NET"],[223,66,0,117,3,"IMAGE"],[224,4,0,117,0,"CONDITIONING"],[225,9,0,117,1,"CONDITIONING"],[228,55,0,47,1,"CLIP"],[233,117,0,120,1,"CONDITIONING"],[234,117,1,120,2,"CONDITIONING"],[235,114,0,120,3,"LATENT"],[236,47,0,120,0,"MODEL"],[237,120,0,22,0,"LATENT"],[238,122,0,47,0,"MODEL"],[239,122,1,55,0,"CLIP"],[240,122,2,114,1,"VAE"],[241,122,2,22,1,"VAE"],[242,47,1,4,0,"CLIP"]],"groups":[],"config":{},"extra":{"ds":{"scale":1.4864362802415245,"offset":[-712.9469828250168,-512.9597346061292]},"info":{"name":"workflow","author":"","description":"","version":"1","created":"2024-11-17T04:14:10.135Z","modified":"2025-04-17T16:48:50.813Z","software":"ComfyUI"},"VHS_latentpreview":false,"VHS_latentpreviewrate":0,"node_versions":{"comfy-core":"0.3.14"},"VHS_MetadataImage":true,"VHS_KeepIntermediate":true},"version":0.4}